generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["fullTextSearch"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Profile {
  createdAt     DateTime   @default(now()) @db.Timestamp
  title         String     @db.VarChar(100)
  description   String?    @db.VarChar(450)
  cities        Cities[]
  nights        String
  accommodation String     @db.VarChar(250)
  flights       String     @db.VarChar(250)
  transfers     String     @db.VarChar(250)
  meals         String     @db.VarChar(250)
  includes      String[]   @db.VarChar
  info          String[]   @db.VarChar
  price_excl    String?    @db.VarChar(8)
  image         String
  id            String     @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  price_incl    String?    @db.VarChar(8)
  rating        Decimal?
  trip_index    Trip[]    
  location      Locations[]
  deal          Deals?
  itinerary     Itinerary?
}

model Itinerary {
  id        Int      @id @default(autoincrement())
  daily     String[]
  profileId String   @unique @db.Uuid
  profile   Profile  @relation(fields: [profileId], references: [id])
  stays     Stays[]
}

model Stays {
  id          Int       @id @default(autoincrement())
  nights      String
  hotelId     Int
  itineraryId Int
  hotel       Hotels    @relation(fields: [hotelId], references: [id])
  itinerary   Itinerary @relation(fields: [itineraryId], references: [id])

  @@unique([hotelId, itineraryId])
}

model Hotels {
  id       Int     @id @default(autoincrement())
  stars    String?
  location String? @db.VarChar(250)
  name     String
  stays    Stays[]
}

model Deals {
  id        Int     @id @default(autoincrement())
  profileId String  @unique @db.Uuid
  profile   Profile @relation(fields: [profileId], references: [id])
}

model Destinations {
  id          Int    @id @default(autoincrement())
  destination String @unique
  image       String @default("")
}

enum Trip {
  HOLIDAYS
  CRUISES
  TOURS
  RESORTS
  FLIGHTS
}

model Locations {
  id          Int   @id @default(autoincrement())
  location    String
  profile     Profile[]
}

model Cities {
  id          Int   @id @default(autoincrement())
  city    String
  profile     Profile[]
}